<div class="dashboard-container">
  <!-- Loading Spinner -->
  <div *ngIf="loading" class="loading">
    <mat-spinner color="warn"></mat-spinner>
    <p>Loading dashboard...</p>
  </div>

  <div *ngIf="!loading" class="dashboard-layout">
    <!-- Left Sidebar - Profile -->
    <app-profile-sidebar
      [username]="user?.username"
      [isCurrentUser]="true"
      [showViewProfileButton]="true"
      (viewProfileClicked)="viewMyProfile()">
    </app-profile-sidebar>

    <!-- Right Content - Posts Feed -->
    <main class="dashboard-content">
      <div class="posts-feed">
        
        <div *ngIf="posts.length === 0" class="no-posts">
          <mat-icon>post_add</mat-icon>
          <p>No posts from subscribed users yet</p>
          <p class="no-posts-hint">Subscribe to users to see their posts here</p>
        </div>

        <div class="posts-list">
          <!-- Post Card Component -->
          <app-post-card 
            *ngFor="let post of posts" 
            [post]="post"
            [currentUser]="user"
            (likeToggled)="toggleLike($event)"
            (commentsToggled)="toggleComments($event)"
            (commentAdded)="addComment($event)"
            (commentDeleted)="onCommentDeleted($event)"
            (usernameClicked)="viewUserProfile($event)">
          </app-post-card>
        </div>
      </div>
    </main>
  </div>
</div>
