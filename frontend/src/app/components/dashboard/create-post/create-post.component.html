<div class="create-post-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Create New Post</h2>
      <button class="close-btn" (click)="onCancel()">&times;</button>
    </div>

    <form (ngSubmit)="onSubmit()" class="post-form">
      <!-- Title Input -->
      <div class="form-group">
        <label for="title">Title</label>
        <input
          type="text"
          id="title"
          [(ngModel)]="title"
          name="title"
          placeholder="Enter post title..."
          class="form-input"
          required
        />
      </div>

      <!-- Content Textarea -->
      <div class="form-group">
        <label for="content">Content</label>
        <textarea
          id="content"
          [(ngModel)]="content"
          name="content"
          placeholder="What's on your mind?"
          class="form-textarea"
          rows="6"
          required
        ></textarea>
      </div>

      <!-- Media Upload -->
      <div class="form-group">
        <label>Media (Image or Video)</label>
        <p class="file-size-hint">Max: 10MB for images, 50MB for videos</p>
        <div class="media-upload">
          <input
            type="file"
            id="mediaFile"
            (change)="onFileSelected($event)"
            accept="image/*,video/*"
            class="file-input"
            #fileInput
          />
          <button
            type="button"
            class="upload-btn"
            (click)="fileInput.click()"
            *ngIf="!mediaPreview"
          >
            üìÅ Choose File
          </button>
        </div>

        <!-- Media Preview -->
        <div class="media-preview" *ngIf="mediaPreview">
          <button type="button" class="remove-media" (click)="removeMedia()">
            &times;
          </button>
          <img
            *ngIf="mediaType === 'image'"
            [src]="mediaPreview"
            alt="Preview"
            class="preview-image"
          />
          <video
            *ngIf="mediaType === 'video'"
            [src]="mediaPreview"
            class="preview-video"
            controls
          ></video>
        </div>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="error-message">
        ‚ö†Ô∏è {{ error }}
      </div>

      <!-- Action Buttons -->
      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="onCancel()">
          Cancel
        </button>
        <button type="submit" class="btn-submit" [disabled]="loading">
          <span *ngIf="loading">üîÑ Creating...</span>
          <span *ngIf="!loading">‚ú® Create Post</span>
        </button>
      </div>
    </form>
  </div>
</div>
